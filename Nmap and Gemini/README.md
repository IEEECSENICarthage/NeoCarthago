### Overview

#### 1. `nmapscan.py`

This script integrates `nmap` into the server environment to periodically scan for open ports and log service details. It operates as follows:

1. **Port Scanning**: The script uses `nmap` to detect open ports and active services on the specified subnets.
2. **Logging Results**: When an open port is detected with an associated service, the script logs detailed information into a log file.
3. **Frequency Control**: The scan runs at a specified frequency, with a delay between scans to manage network and resource usage.
4. **Dashboard Display**: These log entries are displayed in the Wazuh dashboard, providing a real-time view of open ports and active network services.

#### 2. `custom_gemini.py`

This script interfaces with the Gemini API to analyze detected services for vulnerabilities and provides a summary in the Wazuh dashboard. It works as follows:

1. **Alert Processing**: Reads alert data generated by `nmapscan.py`, identifying the open port and associated service details.
2. **Gemini API Query**: The script queries the Gemini API with the service information to retrieve relevant details, including known vulnerabilities.
3. **Analysis and Reporting**: Geminiâ€™s analysis results, including any vulnerabilities, are formatted and sent to the Wazuh dashboard.
4. **Automated Monitoring**: The dashboard displays these analysis results for each detected service, offering actionable insights for network security.

---

This integration enables continuous monitoring and analysis of network services, providing real-time insights into potential vulnerabilities through the Wazuh dashboard.